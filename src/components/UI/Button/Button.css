.button {
  &:before {
    content: '';
    position: absolute;
    top: 0;
    left: 4px;
    z-index: -1;
    background: linear-gradient(135deg, transparent 5%, var(--tertiary-colour) 5%, var(--tertiary-colour) 95%, transparent 95%);
    width: 100%;
    height: 100%;
  }

  &, &:after {
    position: relative;
    padding: .5rem 2rem;
    background: linear-gradient(135deg, transparent 5%, var(--primary-colour) 5%, var(--primary-colour) 95%, transparent 95%);
    color: black;
    font-weight: 600;
    outline: transparent;
    cursor: pointer;
  }

  &:after {
    --slice0: var(--glitch-slice0);
    --slice1: var(--glitch-slice1);
    --slice2: var(--glitch-slice2);
    --slice3: var(--glitch-slice3);
    --slice4: var(--glitch-slice4);
    --slice5: var(--glitch-slice5);

    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, transparent 3%, var(--secondary-colour) 5%, var(--primary-colour) 5%);
    text-shadow: -12px -4px 0 var(--secondary-colour), 6px 7px 0 var(--tertiary-colour);
    clip-path: var(--slice0);
  }

  &:hover {
    &:after {
      animation: 1s glitch;
      animation-timing-function: steps(5, end);
    }
  }
}
